<div class="wrapper">
  <div class="vl-section block cap">
    <h1 class="center">ng-virtual-list</h1>
    <p class="l">Maximum performance for extremely large lists</p>
    <p class="l">Animation of elements is supported.</p>
    <p class="l m">&#64;author: djonnyx&#64;gmail.com</p>
    <img class="logo" [src]="logo" />
    <div class="version"><span>v 20.7.16</span></div>
  </div>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Horizontal list (Single select)</h2>
      <ng-virtual-list class="list" direction="horizontal" [items]="horizontalItems" [bufferSize]="5" [maxBufferSize]="20"
        methodForSelecting="select" [itemRenderer]="horizontalItemRenderer" [itemSize]="54" 
        (onItemClick)="onItemClick($event)" (onSelect)="onSelectHandler($event)" [selectedIds]="2" [selectByClick]="true"
        (onScrollReachStart)="onScrollReachStartHandler()" (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <ng-template #horizontalItemRenderer let-data="data" let-config="config">
    @if (data) {
      <div [ngClass]="{'list__h-container': true, 'even': config.even, 'selected': config.selected}">
        <span>{{data.name}}</span>
      </div>
    }
  </ng-template>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Horizontal group list (Multi select)</h2>
      <ng-virtual-list class="list" direction="horizontal" [items]="horizontalGroupItems" [bufferSize]="5" [maxBufferSize]="20"
        methodForSelecting="multi-select" [itemRenderer]="horizontalGroupItemRenderer"
        [itemConfigMap]="horizontalGroupItemsStickyMap" [itemSize]="54" [snap]="true" 
        (onItemClick)="onItemClick($event)" (onSelect)="onSelectHandler($event)" [selectedIds]="[3,2]"
        (onScrollReachStart)="onScrollReachStartHandler()" (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <ng-template #horizontalGroupItemRenderer let-data="data" let-config="config">
    @if (data) {
      @switch (data.type) {
        @case ("group-header") {
          <div [ngClass]="{'list__h-group-container': true, 'even': config.even, 'selected': config.selected}">
            <span>{{data.name}}</span>
          </div>
        }
        @default {
          <div [ngClass]="{'list__h-container': true, 'even': config.even, 'selected': config.selected}">
            <span>{{data.name}}</span>
          </div>
        }
      }
    }
  </ng-template>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Vertical virtual list</h2>
      <ng-virtual-list class="list" [items]="items" methodForSelecting="multi-select"  [itemRenderer]="itemRenderer" [bufferSize]="5" [maxBufferSize]="20"
        [itemSize]="40" (onItemClick)="onItemClick($event)" (onSelect)="onSelectHandler($event)" [selectedIds]="[3,2]"
        (onScrollReachStart)="onScrollReachStartHandler()" (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <ng-template #itemRenderer let-data="data" let-config="config">
    @if (data) {
      <div [ngClass]="{'list__container': true, 'even': config.even, 'selected': config.selected}">
        <span>{{data.name}}</span>
      </div>
    }
  </ng-template>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Scroll to item</h2>
      <div class="scroll-to__controls">
        <input type="number" class="scroll-to__input" [(ngModel)]="itemId" [required]="true" [min]="minId"
          [max]="maxId">
        <button class="scroll-to__button" (click)="onButtonScrollToIdClickHandler($event)">Scroll</button>
      </div>
      <ng-virtual-list #virtualList class="list" [items]="items" [itemRenderer]="itemRenderer" [bufferSize]="50"
        [itemSize]="40" (onItemClick)="onItemClick($event)" (onScrollReachStart)="onScrollReachStartHandler()"
        (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Virtual group list</h2>
      <ng-virtual-list class="list" [items]="groupItems" [itemRenderer]="groupItemRenderer" [bufferSize]="5" [maxBufferSize]="20"
        [itemConfigMap]="groupItemsStickyMap" [itemSize]="40" (onItemClick)="onItemClick($event)" (onScrollReachStart)="onScrollReachStartHandler()"
        (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Virtual group list (with snapping)</h2>
      <ng-virtual-list class="list" [items]="groupItems" [itemRenderer]="groupItemRenderer" [bufferSize]="5" [maxBufferSize]="20"
        [itemConfigMap]="groupItemsStickyMap" [itemSize]="40" [snap]="true" (onItemClick)="onItemClick($event)"
        (onScrollReachStart)="onScrollReachStartHandler()" (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <div class="vl-section">
    <div class="vl-section__container">
      <h2>Virtual list (with dynamic item size)</h2>
      <div class="scroll-to__controls">
        <input type="number" class="scroll-to__input" [(ngModel)]="dlItemId" [required]="true" [min]="minDlId"
          [max]="maxDlId">
        <button class="scroll-to__button" (click)="onButtonScrollDLToIdClickHandler($event)">Scroll</button>
      </div>
      <ng-virtual-list #dynamicList class="list" [items]="groupDynamicItems" [itemRenderer]="groupItemRenderer"
        [bufferSize]="5" [maxBufferSize]="20" [itemConfigMap]="groupDynamicItemsStickyMap" [dynamicSize]="true"
        [snap]="true" (onViewportChange)="onViewportChangeHandler($event)"
        (onItemClick)="onItemClick($event)" (onScrollReachStart)="onScrollReachStartHandler()"
        (onScrollReachEnd)="onScrollReachEndHandler()"></ng-virtual-list>
    </div>
  </div>

  <ng-template #groupItemRenderer let-data="data" let-config="config">
    @if (data) {
      @switch (data.type) {
        @case ("group-header") {
          <div [ngClass]="{'list__group-container': true, 'even': config.even, 'selected': config.selected}">
            <span>{{data.name}}</span>
          </div>
        }
        @default {
          <div [ngClass]="{'list__container': true, 'even': config.even, 'selected': config.selected}">
            <span>{{data.name}}</span>
          </div>
        }
      }
    }
  </ng-template>
</div>